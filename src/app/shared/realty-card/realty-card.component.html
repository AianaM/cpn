<mat-card>
    <mat-tab-group mat-card-image *ngIf="realty.mediaObjects.length" headerPosition="below" class="photos">
        <mat-tab *ngFor="let photo of realty.mediaObjects">
            <ng-template mat-tab-label>
                <img [src]="photo.links?.squared_thumbnail_64 | safeResourceUrl" alt="–§–æ—Ç–æ –æ–±—ä–µ–∫—Ç–∞"
                     style="height: 64px; width: 64px;"
                >
            </ng-template>
            <img (click)="show(photo)"
                 [src]="photo.links?.squared_thumbnail | safeResourceUrl" alt="–§–æ—Ç–æ –æ–±—ä–µ–∫—Ç–∞">
        </mat-tab>
    </mat-tab-group>
    <img mat-card-image *ngIf="!realty.mediaObjects.length" src="./assets/realty.png"
         height="50%" alt="–ù–µ—Ç —Ñ–æ—Ç–æ –æ–±—ä–µ–∫—Ç–∞">
    <mat-card-content>
        <div>
            <div>{{realty.address.street}}, {{realty.address.number}}
                <span *ngIf="realty.address.name">, ({{realty.address.name}})</span></div>
            <div>{{realty.address.district}}</div>
        </div>

        <ul>
            <li> {{realty.category}} {{realty.rooms | rooms}} <span class="mutted">{{realty.area}} –∫–≤.–º. /
                <ng-container
                        *ngIf="full && realty.description.balconyArea">{{realty.description.balconyArea}} –∫–≤.–º.</ng-container>
            </span>
            </li>
            <li>{{realty.address.type}}, {{realty.address.year }} –≥.
                <span *ngIf="realty.address.newBuilding">{{realty.address.description.quarter }}</span>
            </li>
            <li>{{realty.address.developer}}</li>
            <li>{{realty.floor}}/{{realty.address.floors}} —ç—Ç–∞–∂
                <span *ngIf="realty.address.description.elevator">–ª–∏—Ñ—Ç</span>
            </li>
        </ul>
        <p>
            <b>–¶–µ–Ω–∞: {{realty.price || 0 | currency: 'RUB':'symbol':'4.0-0'}}</b>
            <span *ngIf="realty.area"> ({{realty.price/realty.area | currency: 'RUB':'symbol':'4.0-0'}}/–º2)</span>
            <span *ngIf="realty.address.newBuilding && realty.address.description.mortgage"> –ò–ø–æ—Ç–µ–∫–∞</span>
        </p>
        <p>
            {{realty.updatedAt | date:'short' }} {{status}}
            <span *ngIf="realty.exclusive">üîê</span>
            <span *ngIf="realty.hiddenInfo?.haggle">üôè</span>
            <span *ngIf="realty.fee">üí∞{{realty.fee | currency: 'RUB':'symbol':'4.0-0'}}</span>
        </p>
        <div *ngIf="full">
            <p>–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –æ–±–Ω–æ–≤–ª—è–ª—Å—è
                {{realty.updatedUser.teamCard?.firstName || realty.updatedUser.name?.firstName}}
            </p>
            <p>{{features(true)}}</p>
            <p>{{features()}}</p>
            <p>{{realty.address.description.text}}</p>
            <p>{{realty.description.text}}</p>
            <div *ngIf="realty.hiddenInfo as info">
                <ul>
                    <li>{{realty.cadastralNumber}}, –∫–≤. {{info.flat || '—Ö–∑'}}, –ø–æ–¥—ä–µ–∑–¥ {{info.entrance || '–Ω–µ —É–∫–∞–∑–∞–Ω'}}</li>
                    <li *ngIf="info.maternalCapital">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ª–∏ –ú–°–ö –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ/–≥–∞—à–µ–Ω–∏–∏ –∏–ø–æ—Ç–µ–∫–∏</li>
                    <li *ngIf="info.shareProperty">–î–æ–ª–µ–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
                    <li *ngIf="info.ownershipLessThan3years">–í —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–Ω–Ω–µ 3—Ö –ª–µ—Ç</li>
                    <li>{{info.note}}</li>
                </ul>
            </div>
            <div *ngIf="realty.owner">
                <div><b>{{realty.owner.name}}</b></div>
                <app-phone [phone]="realty.owner.phone"></app-phone>
            </div>
            <app-team-card [teamCard]="realty.manager?.teamCard" [small]="true"></app-team-card>
        </div>
    </mat-card-content>
    <mat-card-actions fxLayout="row" fxLayoutAlign="space-between end">
        <button mat-icon-button>
            <mat-icon>favorite_border</mat-icon>
        </button>
        <button mat-button>–ü–û–î–†–û–ë–ù–ï–ï</button>
    </mat-card-actions>
</mat-card>
